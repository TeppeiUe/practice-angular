<h2 mat-dialog-title>{{ 'USER.EDIT' | translate }}</h2>

<mat-dialog-content>
  <form
    fxLayout="column"
    [formGroup]="userForm">
    <mat-form-field>
      <input
        matInput
        matType="text"
        type="text"
        formControlName="user_name"
        placeholder="{{ 'USER.USER_NAME' | translate }}">
      <mat-error
        *ngIf="user_name?.errors !== null
          && user_name?.errors?.['required'] === true">
        {{ 'USER.USER_NAME' | translate }}
        {{ 'VALIDATOR.REQUIRED' | translate }}
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input
        matInput
        matType="textarea"
        type="textarea"
        formControlName="profile"
        placeholder="{{ 'USER.PROFILE' | translate }}">
    </mat-form-field>

    <input
      type="text"
      formControlName="image"
      hidden>

    <mat-form-field>
      <ngx-mat-file-input
        formControlName="tmp"
        (change)="onFileChange($event)"
        accept="image/*"
        placeholder="{{ 'USER.IMAGE' | translate }}">
      </ngx-mat-file-input>
      <mat-icon matSuffix>folder</mat-icon>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <button
    mat-raised-button
    color="primary"
    [disabled]="userForm.invalid"
    [mat-dialog-close]="userForm"
    (click)="updateUser()">
    {{ 'SHARE.UPDATE' | translate }}
  </button>
  <button mat-button (click)="cancel()">
    {{ 'SHARE.CANCEL' | translate }}
  </button>
</mat-dialog-actions>
