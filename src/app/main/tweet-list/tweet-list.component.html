<div fxLayout="row wrap">
  <ng-container *ngFor="let tweet of tweetList; index as ind">
    <mat-card>
      <mat-card-header>
        <img
          mat-card-avatar
          routerLink="/user/{{ tweet.user?.id }}"
          src="{{ tweet.user?.image ?? '' ?
            tweet.user?.image :
            './assets/img/baseline_person_black_24dp.png' }}">
        <mat-card-title routerLink="/user/{{ tweet.user?.id }}">
          {{ tweet.user?.user_name }}
        </mat-card-title>
        <span class="spacer"></span>
        <button mat-stroked-button color="primary">
          {{ 'USER.FOLLOWING.ADD' | translate }}
        </button>
      </mat-card-header>

      <mat-card-content fxLayout="column" fxLayoutAlign="space-between">
        <p>{{ tweet.message }}</p>
        <p>{{ tweet.created_at| date: 'yyyy/MM/dd hh:mm' }}</p>
      </mat-card-content>

      <mat-card-footer>
        <ng-container
          *ngIf="setFavorite(tweet); then onFavorite; else offFavorite">
        </ng-container>
        <ng-template #onFavorite>
          <button mat-icon-button color="warn" (click)="deleteFavorite(ind)">
            <mat-icon>favorite</mat-icon>
          </button>
        </ng-template>
        <ng-template #offFavorite>
          <button mat-icon-button (click)="addFavorite(ind)">
            <mat-icon>favorite_border</mat-icon>
          </button>
        </ng-template>
        {{ tweet.favorites?.length ?? 0 }}
      </mat-card-footer>
    </mat-card>
  </ng-container>
</div>
